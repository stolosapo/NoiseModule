<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
    <head>
        <title>The First Kube :: NoiseModule</title>

        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="css/noise-module.css" />

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

        <script src="js/nodes/noise-module-node.js"></script>
        <script src="js/nodes/oscilator-module-node.js"></script>
        <script src="js/nodes/liveinput-module-node.js"></script>
        <script src="js/nodes/radio-module-node.js"></script>
        <script src="js/nodes/soundcloud-module-node.js"></script>
        <script src="js/nodes/biquadfilter-module-node.js"></script>
        <script src="js/nodes/equalizer-module-node.js"></script>
        <script src="js/nodes/delay-module-node.js"></script>
        <script src="js/nodes/kingtubby-module-node.js"></script>
        <script src="js/nodes/convolver-module-node.js"></script>
        <script src="js/nodes/moogfilter-module-node.js"></script>
        <script src="js/nodes/dynamicscompressor-module-node.js"></script>
        <script src="js/nodes/gain-module-node.js"></script>
        <script src="js/nodes/stereopanner-module-node.js"></script>
        <script src="js/nodes/waveshaper-module-node.js"></script>
        <script src="js/nodes/periodwave-module-node.js"></script>
        <script src="js/nodes/analyser-module-node.js"></script>
        <script src="js/nodes/recorder-module-node.js"></script>

        <script src="js/noise-module.js"></script>
        <script src="js/noise-module-ui.js"></script>
        <script src="js/noise-module-factory.js"></script>

        <script type="text/javascript">

            $(document).ready(function() {

                var urlParams   = new URLSearchParams( window.location.search );
                var fileMode    = false;

                if (urlParams.has( 'fileMode' )) {
                    fileMode    = urlParams.get( 'fileMode' );
                }

                /* Create a new Singleton Noise Module */
                $( 'body' ).noiseModule( {

                    fileMode: fileMode,

                    modules                 : [

                        { name: "WhiteNoise", nodeType: "noise", type: "white" },
                        { name: "Gain", nodeType: "gain", options: { gainGain: 0.5 } },

                        { name: "KingTubby", nodeType: "kingtubbynode" },

                        { name: "SineWave", nodeType: "oscillator", type: "sine" },

                        { name: "LiveInput", nodeType: "liveinput" },
                        { name: "Eq", nodeType: "equalizer" },


                        { name: "Master", nodeType: "gain" },
                        { name: "MasterAnalyser", nodeType: "analyser", type: "frequencybars" }

                    ],

                    connections             : [

                        { srcNode: "WhiteNoise", destNode: "Gain" },
                        { srcNode: "Gain", destNode: "Master" },

                        { srcNode: "Gain", destNode: "KingTubby" },

                        { srcNode: "SineWave", destNode: "Eq" },
                        { srcNode: "KingTubby", destNode: "Eq" },

                        { srcNode: "LiveInput", destNode: "Eq" },
                        { srcNode: "Eq", destNode: "Master" },


                        { srcNode: "Master", destNode: "MasterAnalyser" },

                        { srcNode: "MasterAnalyser", destNode: "output" }

                    ],

                }, true );

            });

        </script>

    </head>

    <body>

    </body>
</html>
